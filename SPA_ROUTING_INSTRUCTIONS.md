# Решение проблемы SPA маршрутизации

## Проблема
Когда вы открываете ссылки на места в новом окне (например, `/places/123`), браузер показывает ошибку 404, потому что сервер не знает об этих клиентских маршрутах React Router.

## Решение
Мы настроили приложение для корректной работы SPA (Single Page Application) маршрутизации.

### Что было сделано:

1. **Конфигурация Vite** (`vite.config.ts`):
   - Добавлены настройки для SPA маршрутизации в production
   - Настроен preview сервер

2. **Файлы для Netlify**:
   - `public/_redirects` - перенаправляет все маршруты на index.html
   - `netlify.toml` - конфигурация для Netlify

3. **Сервер для разработки** (`server.js`):
   - Простой Node.js сервер, который обслуживает статические файлы
   - Все неизвестные маршруты перенаправляются на index.html

## Как использовать:

### Для разработки:
```bash
npm run dev
```

### Для production:
1. Соберите приложение:
```bash
npm run build
```

2. Запустите сервер:
```bash
npm run serve
```

### Для Netlify:
Просто задеплойте приложение на Netlify - файлы `_redirects` и `netlify.toml` автоматически настроят SPA маршрутизацию.

## Как это работает:
- Когда браузер запрашивает маршрут (например, `/places/123`), сервер возвращает `index.html`
- React Router на клиенте анализирует URL и загружает соответствующую страницу
- Все работает корректно при открытии ссылок в новых окнах/вкладках

## Тестирование:
После деплоя или запуска сервера, попробуйте открыть в новом окне:
- `/places/123` (замените 123 на реальный ID места)
- `/routes/456` (замените 456 на реальный ID маршрута)
- `/cities/789` (замените 789 на реальный ID города)

Все должно работать корректно!