# Взаимодействие с API (Supabase)

## Обзор
Бэкенд и база данных проекта реализованы с использованием Supabase.
Фронтенд взаимодействует с Supabase для:
*   Аутентификации пользователей (`src/services/authApi.ts`).
*   Получения данных (CRUD-операции) для основных сущностей: Города (`src/services/citiesApi.ts`), Места (`src/services/placesApi.ts`), События (`src/services/eventsApi.ts`), Маршруты (`src/services/routesApi.ts`).
*   Работы с комментариями (`src/services/comments/`).

## Клиент Supabase
Инициализация и настройка клиента Supabase, скорее всего, находится в `src/integrations/supabase/client.ts`.

## Таблицы и Структура Данных
*   Предполагается наличие таблиц в базе данных Supabase для хранения информации о городах, местах, событиях, маршрутах, пользователях (вероятно, управляемых Supabase Auth), комментариях, лайках комментариев, избранном.
*   Точная структура таблиц и связи между ними определены в схеме базы данных Supabase и миграциях (`supabase/migration.sql`).

## Функции Supabase
Проект использует бессерверные функции Supabase (`supabase/functions/`):
*   `create-profile`: Вероятно, срабатывает при регистрации нового пользователя для создания записи в таблице профилей.
*   `update-city-stats`: Возможно, обновляет статистику по городам (например, количество мест, событий) при добавлении нового контента.

## Запросы к API
*   Файлы в `src/services/` содержат функции, которые формируют и отправляют запросы к API Supabase (используя JavaScript/TypeScript клиент Supabase).
*   Вспомогательные функции для работы с API могут находиться в `src/services/apiUtils.ts`.
